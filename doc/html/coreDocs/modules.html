
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Eggdrop Module Information &#8212; Eggdrop 1.9.0 documentation</title>
    <link rel="stylesheet" href="../_static/eggdrop.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Assoc Module" href="assoc.html" />
    <link rel="prev" title="Eggdrop Core Settings" href="core.html" /> 
  </head><body>
    <div class="header-wrapper" role="banner">
      <div class="header">
          <p class="logo"><a href="../index.html">
            <img class="logo" src="../_static/eggman.png.gif" alt="Logo"/>
          </a></p>
        <div class="headertitle"><a
          href="../index.html">Eggdrop 1.9.0 documentation</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
          <a href="core.html" title="Eggdrop Core Settings"
             accesskey="P">previous</a> |
          <a href="assoc.html" title="Assoc Module"
             accesskey="N">next</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="sidebar">
          
          <h3>Table of Contents</h3>
          <ul>
<li class="toctree-l1"><a class="reference internal" href="../installAndSetup/readme.html">README</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installAndSetup/install.html">Installing Eggdrop</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installAndSetup/faq.html">Frequently Asked Questions</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../mainDocs/about.html">About Eggdrop</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mainDocs/features.html">Eggdrop Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mainDocs/users.html">Users and Flags</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mainDocs/partyline.html">The Party Line</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mainDocs/bans.html">Bans, Invites, and Exempts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mainDocs/botnet.html">Botnet Sharing and Linking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mainDocs/patch.html">Patch How-To</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mainDocs/tcl-commands.html">Eggdrop Tcl Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mainDocs/ipv6.html">IPv6 support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mainDocs/tls.html">TLS support</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="core.html">Eggdrop Core Settings</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Eggdrop Module Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="assoc.html">Assoc Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="blowfish.html">Blowfish Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="channels.html">Channels Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="compress.html">Compress Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="console.html">Console Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="ctcp.html">CTCP Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="dns.html">DNS Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="filesys.html">Filesys Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="ident.html">Ident Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="irc.html">IRC Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="notes.html">Notes Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="seen.html">Seen Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="server.html">Server Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="share.html">Share Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="transfer.html">Transfer Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="uptime.html">Uptime Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="woobie.html">Woobie Module</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../appendices/known-probs.html">Known Problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendices/tricks.html">Eggdrop Tricks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendices/text-sub.html">Textfile Substitutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendices/weird-msgs.html">Weird Messages That Get Logged</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendices/first-script.html">Your First Eggdrop Script</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="../search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
            </form>
          </div>

        </div>
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <p>Eggdrop Module Information
Last revised: Jul 25, 2016</p>
<div class="section" id="eggdrop-module-information">
<h1>Eggdrop Module Information<a class="headerlink" href="#eggdrop-module-information" title="Permalink to this headline">¶</a></h1>
<p>The purpose of this document is to show you how to download, install, create,
and submit modules.</p>
<div class="section" id="what-are-modules">
<h2>What are modules?<a class="headerlink" href="#what-are-modules" title="Permalink to this headline">¶</a></h2>
<p>Modules are portions of code which are loaded separately to the bot itself
and provide extra services. For example, the filesys module provides the
entire file system.</p>
</div>
<div class="section" id="why-use-modules">
<h2>Why use modules?<a class="headerlink" href="#why-use-modules" title="Permalink to this headline">¶</a></h2>
<p>Modules allow C coders to add their own enhancements to the bot while
keeping them optional and without increasing the size of the Eggdrop core.</p>
</div>
<div class="section" id="how-to-install-a-module">
<h2>How to install a module<a class="headerlink" href="#how-to-install-a-module" title="Permalink to this headline">¶</a></h2>
<p>Please note that these are only basic instructions for compiling and
installing a module. Please read any and all directions included with
the module you wish to install.</p>
<blockquote>
<div><ol class="arabic simple">
<li>Download and un-tar the Eggdrop source code.</li>
<li>Place the new module in its own directory (in the format of
(modulename).mod) in src/mod.</li>
<li>Run ./configure (from eggdrop1.8.x/).</li>
<li>Type ‘make config’ or ‘make iconfig’.</li>
<li>Type ‘make’.</li>
<li>Copy the compiled module file (modulename.so) into your bot’s
modules folder.</li>
<li>Add ‘loadmodule modulename’ to your eggdrop.conf file (do not
add the .so suffix).</li>
<li>Rehash or restart your bot.</li>
</ol>
</div></blockquote>
<p>To view your currently loaded modules, type ‘.module’.</p>
</div>
<div class="section" id="modules-included-with-eggdrop">
<h2>Modules included with Eggdrop<a class="headerlink" href="#modules-included-with-eggdrop" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><dl class="docutils">
<dt><a class="reference internal" href="assoc.html#assoc"><span class="std std-ref">Assoc Module</span></a></dt>
<dd>This module provides assoc support, i.e. naming channels on the
botnet.</dd>
<dt><a class="reference internal" href="blowfish.html#blowfish"><span class="std std-ref">Blowfish Module</span></a></dt>
<dd>Eggdrop can encrypt your userfile, so users can have secure
passwords. Please note that when you change your encryption
method later (i.e. using other modules like a md5 module),
you can’t use your current userfile anymore. Eggdrop will not
start without an encryption module.</dd>
<dt><a class="reference internal" href="channels.html#channels"><span class="std std-ref">Channels Module</span></a></dt>
<dd>This module provides channel related support for the bot.
Without it, you won’t be able to make the bot join a channel
or save channel specific userfile information.</dd>
<dt><a class="reference internal" href="compress.html#compress"><span class="std std-ref">Compress Module</span></a></dt>
<dd>This module provides support for file compression. This
allows the bot to transfer compressed user files and, therefore,
save a significant amount of bandwidth.</dd>
<dt><a class="reference internal" href="console.html#console"><span class="std std-ref">Console Module</span></a></dt>
<dd>This module provides storage of console settings when you exit
the bot or type .store on the partyline.</dd>
<dt><a class="reference internal" href="ctcp.html#ctcp"><span class="std std-ref">CTCP Module</span></a></dt>
<dd>This module provides the normal ctcp replies that you’d expect.
Without it loaded, CTCP CHAT will not work.</dd>
<dt><a class="reference internal" href="dns.html#dns"><span class="std std-ref">DNS Module</span></a></dt>
<dd>This module provides asynchronous dns support. This will avoid
long periods where the bot just hangs there, waiting for a
hostname to resolve, which will often let it timeout on all
other connections.</dd>
<dt><a class="reference internal" href="filesys.html#filesys"><span class="std std-ref">Filesys Module</span></a></dt>
<dd>This module provides an area within the bot where users can store
and manage files. With this module, the bot is usable as a file
server.</dd>
<dt><a class="reference internal" href="irc.html#irc"><span class="std std-ref">IRC Module</span></a></dt>
<dd>This module provides basic IRC support for your bot. You have to
load this if you want your bot to come on IRC.</dd>
<dt><a class="reference internal" href="notes.html#notes"><span class="std std-ref">Notes Module</span></a></dt>
<dd>This module provides support for storing of notes for users from
each other. Note sending between currently online users is
supported in the core, this is only for storing the notes for
later retrieval.</dd>
<dt><a class="reference internal" href="seen.html#seen"><span class="std std-ref">Seen Module</span></a></dt>
<dd>This module provides very basic seen commands via msg, on channel
or via dcc. This module works only for users in the bot’s
userlist. If you are looking for a better and more advanced seen
module, try the gseen module by G’Quann. You can find it at
<a class="reference external" href="http://www.kreativrauschen.com/gseen.mod/">http://www.kreativrauschen.com/gseen.mod/</a>.</dd>
<dt><a class="reference internal" href="server.html#server"><span class="std std-ref">Server Module</span></a></dt>
<dd>This module provides the core server support. You have to load
this if you want your bot to come on IRC. Not loading this is
equivalent to the old NO_IRC define.</dd>
<dt><a class="reference internal" href="share.html#share"><span class="std std-ref">Share Module</span></a></dt>
<dd>This module provides userfile sharing support between two
directly linked bots.</dd>
<dt><a class="reference internal" href="transfer.html#transfer"><span class="std std-ref">Transfer Module</span></a></dt>
<dd>The transfer module provides DCC SEND/GET support and userfile
transfer support for userfile sharing.</dd>
<dt><a class="reference internal" href="uptime.html#uptime"><span class="std std-ref">Uptime Module</span></a></dt>
<dd>This module reports uptime statistics to the uptime contest
web site at <a class="reference external" href="http://uptime.eggheads.org">http://uptime.eggheads.org</a>. Go look and see what
your uptime is! It takes about 9 hours to show up, so if your
bot isn’t listed, try again later. See doc/settings/mod.uptime
for more information, including details on what information is
sent to the uptime server.</dd>
<dt><a class="reference internal" href="woobie.html#woobie"><span class="std std-ref">Woobie Module</span></a></dt>
<dd>This is for demonstrative purposes only. If you are looking for
starting point in writing modules, woobie is the right thing.</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="programming-modules">
<h2>Programming modules<a class="headerlink" href="#programming-modules" title="Permalink to this headline">¶</a></h2>
<p>WARNING: This section is very likely to be out of date.</p>
<p>Note: This is for a simple module of 1 source file. If you’re doing a
multiple source file module, you shouldn’t need to read this anyway.</p>
<blockquote>
<div><ol class="arabic">
<li><p class="first">Create a src/mod/MODULE.mod directory in your Eggdrop directory (where
MODULE is the module name) and cd to it.</p>
</li>
<li><p class="first">Copy the file ‘Makefile’ from src/mod/woobie.mod and replace all
occurrences of ‘woobie’ with your module name. This should ensure
that your module gets compiled.</p>
</li>
<li><p class="first">Next, you want to create a file called MODULE.c (MODULE is the module
name again).</p>
</li>
<li><p class="first">You MUST include the following in your source code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#define MODULE_NAME &quot;module-name&quot;</span>
</pre></div>
</div>
</li>
</ol>
<blockquote>
<div><p>This should be defined to the same name you will be using when you load
your module.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#define MAKING_MODULENAME</span>
</pre></div>
</div>
<p>MODULENAME is the name of your module (MODULE_NAME), but in all caps.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#include &quot;../module.h&quot;</span>
</pre></div>
</div>
<p>This provides access to Eggdrop’s global function table. Examine
src/mod/module.h closely to find a list of functions available.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#include any other standard c header files you might need.</span>
</pre></div>
</div>
<p>Note that stdio.h, string.h, stdlib.h, and sys/types.h are already included.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Function</span> <span class="o">*</span><span class="k">global</span><span class="p">;</span>
</pre></div>
</div>
<p>This variable provides access to all the Eggdrop functions; without it,
you can’t call any Eggdrop functions (the module won’t even load).</p>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="module-requirements">
<h2>Module requirements<a class="headerlink" href="#module-requirements" title="Permalink to this headline">¶</a></h2>
<p>In most modules, all functions/variables (except global and MODULE_start)
should be static. This will drastically reduce the size of modules on
decent systems.</p>
<dl class="docutils">
<dt>Throughout this step, MODULE refers to the module name. Note that</dt>
<dd>“MODULE_NAME” should literally be “MODULE_NAME”.</dd>
</dl>
<div class="section" id="module-start">
<h3>MODULE_start<a class="headerlink" href="#module-start" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">char</span> <span class="o">*</span><span class="n">MODULE_start</span><span class="p">(</span><span class="n">Function</span> <span class="o">*</span><span class="n">func_table</span><span class="p">)</span>

<span class="n">This</span> <span class="n">function</span> <span class="ow">is</span> <span class="n">called</span> <span class="n">when</span> <span class="n">the</span> <span class="n">module</span> <span class="ow">is</span> <span class="n">first</span> <span class="n">loaded</span><span class="o">.</span> <span class="n">There</span> <span class="n">are</span>
<span class="n">several</span> <span class="n">things</span> <span class="n">that</span> <span class="n">need</span> <span class="n">to</span> <span class="n">be</span> <span class="n">done</span> <span class="ow">in</span> <span class="n">this</span> <span class="n">function</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">global</span> <span class="o">=</span> <span class="n">func_table</span><span class="p">;</span>

<span class="n">This</span> <span class="n">allows</span> <span class="n">you</span> <span class="n">to</span> <span class="n">make</span> <span class="n">calls</span> <span class="n">to</span> <span class="n">the</span> <span class="k">global</span> <span class="n">function</span> <span class="n">table</span><span class="o">.</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">module_register</span><span class="p">(</span><span class="n">MODULE_NAME</span><span class="p">,</span> <span class="n">MODULE_table</span><span class="p">,</span> <span class="n">MAJOR</span><span class="p">,</span> <span class="n">MINOR</span><span class="p">);</span>

<span class="n">This</span> <span class="n">records</span> <span class="n">details</span> <span class="n">about</span> <span class="n">the</span> <span class="n">module</span> <span class="k">for</span> <span class="n">other</span> <span class="n">modules</span> <span class="ow">and</span> <span class="n">Eggdrop</span>
<span class="n">itself</span> <span class="n">to</span> <span class="n">access</span><span class="o">.</span> <span class="n">MAJOR</span> <span class="ow">and</span> <span class="n">MINOR</span> <span class="n">are</span> <span class="n">ints</span><span class="p">,</span> <span class="n">where</span> <span class="n">MAJOR</span> <span class="ow">is</span> <span class="n">the</span>
<span class="n">module</span><span class="s1">&#39;s major version number and MINOR is a minor version number.</span>
<span class="n">MODULE_table</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">function</span> <span class="n">table</span> <span class="p">(</span><span class="n">see</span> <span class="n">below</span><span class="p">)</span><span class="o">.</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">module_depend</span><span class="p">(</span><span class="n">MODULE_NAME</span><span class="p">,</span> <span class="s2">&quot;another-module&quot;</span><span class="p">,</span> <span class="n">MAJOR</span><span class="p">,</span> <span class="n">MINOR</span><span class="p">);</span>

<span class="n">This</span> <span class="n">lets</span> <span class="n">Eggdrop</span> <span class="n">know</span> <span class="n">that</span> <span class="n">your</span> <span class="n">module</span> <span class="n">NEEDS</span> <span class="s2">&quot;another-module&quot;</span> <span class="n">of</span>
<span class="n">major</span> <span class="n">version</span> <span class="s1">&#39;MAJOR&#39;</span> <span class="ow">and</span> <span class="n">at</span> <span class="n">least</span> <span class="n">minor</span> <span class="n">version</span> <span class="s1">&#39;MINOR&#39;</span> <span class="n">to</span> <span class="n">run</span><span class="p">,</span>
<span class="ow">and</span> <span class="n">hence</span> <span class="n">should</span> <span class="k">try</span> <span class="n">to</span> <span class="n">load</span> <span class="n">it</span> <span class="k">if</span> <span class="n">it</span><span class="s1">&#39;s not already loaded. This</span>
<span class="n">will</span> <span class="k">return</span> <span class="mi">1</span> <span class="n">on</span> <span class="n">success</span><span class="p">,</span> <span class="ow">or</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">it</span> <span class="n">can</span><span class="s1">&#39;t be done (at which stage</span>
<span class="n">you</span> <span class="n">should</span> <span class="k">return</span> <span class="n">an</span> <span class="n">error</span><span class="p">)</span><span class="o">.</span>
</pre></div>
</div>
<p>Any other initialization stuff you desire should also be included in
this function. See below for various things you can do.</p>
<p>You also will need to return a value. Returning NULL implies the
module loaded successfully. Returning a non-NULL STRING is an error
message. The module (and any other dependent modules) will stop
loading and an error will be returned.</p>
</div>
<div class="section" id="module-table">
<h3>MODULE_table<a class="headerlink" href="#module-table" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">static</span> <span class="n">Function</span> <span class="o">*</span><span class="n">MODULE_table</span> <span class="o">=</span> <span class="p">{</span>
       <span class="n">MODULE_start</span><span class="p">,</span>
       <span class="n">MODULE_close</span><span class="p">,</span>
       <span class="n">MODULE_expmem</span><span class="p">,</span>
       <span class="n">MODULE_report</span><span class="p">,</span>
       <span class="n">any_other_functions</span><span class="p">,</span>
       <span class="n">you_want_to_export</span>
<span class="p">};</span>

<span class="n">This</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">table</span> <span class="n">of</span> <span class="n">functions</span> <span class="n">which</span> <span class="nb">any</span> <span class="n">other</span> <span class="n">module</span> <span class="n">can</span> <span class="n">access</span><span class="o">.</span> <span class="n">The</span>
<span class="n">first</span> <span class="mi">4</span> <span class="n">functions</span> <span class="n">are</span> <span class="n">FIXED</span><span class="o">.</span> <span class="n">You</span> <span class="n">MUST</span> <span class="n">have</span> <span class="n">them</span><span class="p">;</span> <span class="n">they</span> <span class="n">provide</span> <span class="n">important</span>
<span class="n">module</span> <span class="n">information</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="module-close">
<h3>MODULE_close ()<a class="headerlink" href="#module-close" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">static</span> <span class="n">char</span> <span class="o">*</span><span class="n">MODULE_close</span> <span class="p">()</span>

<span class="n">This</span> <span class="ow">is</span> <span class="n">called</span> <span class="n">when</span> <span class="n">the</span> <span class="n">module</span> <span class="ow">is</span> <span class="n">unloaded</span><span class="o">.</span> <span class="n">Apart</span> <span class="kn">from</span> <span class="nn">tidying</span> <span class="nb">any</span>
<span class="n">relevant</span> <span class="n">data</span> <span class="p">(</span><span class="n">I</span> <span class="n">suggest</span> <span class="n">you</span> <span class="n">be</span> <span class="n">thorough</span><span class="p">,</span> <span class="n">we</span> <span class="n">don</span><span class="s1">&#39;t want any trailing</span>
<span class="n">garbage</span> <span class="kn">from</span> <span class="nn">modules</span><span class="p">),</span> <span class="n">you</span> <span class="n">MUST</span> <span class="n">do</span> <span class="n">the</span> <span class="n">following</span><span class="p">:</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">module_undepend</span><span class="p">(</span><span class="n">MODULE_NAME</span><span class="p">);</span>

<span class="n">This</span> <span class="n">lets</span> <span class="n">Eggdrop</span> <span class="n">know</span> <span class="n">your</span> <span class="n">module</span> <span class="n">no</span> <span class="n">longer</span> <span class="n">depends</span> <span class="n">on</span> <span class="nb">any</span> <span class="n">other</span>
<span class="n">modules</span><span class="o">.</span>

<span class="n">Return</span> <span class="n">a</span> <span class="n">value</span><span class="o">.</span> <span class="n">NULL</span> <span class="n">implies</span> <span class="n">success</span><span class="p">;</span> <span class="nb">any</span> <span class="n">non</span><span class="o">-</span><span class="n">NULL</span> <span class="n">STRING</span> <span class="n">implies</span>
<span class="n">that</span> <span class="n">the</span> <span class="n">module</span> <span class="n">cannot</span> <span class="n">be</span> <span class="n">unloaded</span> <span class="k">for</span> <span class="n">some</span> <span class="n">reason</span><span class="p">,</span> <span class="ow">and</span> <span class="n">hence</span> <span class="n">the</span>
<span class="n">bot</span> <span class="n">should</span> <span class="ow">not</span> <span class="n">unload</span> <span class="n">it</span> <span class="p">(</span><span class="n">see</span> <span class="n">the</span> <span class="n">blowfish</span> <span class="n">module</span> <span class="k">for</span> <span class="n">an</span> <span class="n">example</span><span class="p">)</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="module-expmem">
<h3>MODULE_expmem<a class="headerlink" href="#module-expmem" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">static</span> <span class="nb">int</span> <span class="n">MODULE_expmem</span> <span class="p">()</span>

<span class="n">This</span> <span class="n">should</span> <span class="n">tally</span> <span class="nb">all</span> <span class="n">memory</span> <span class="n">you</span> <span class="n">allocate</span><span class="o">/</span><span class="n">deallocate</span> <span class="n">within</span> <span class="n">the</span> <span class="n">module</span>
<span class="p">(</span><span class="n">using</span> <span class="n">nmalloc</span><span class="p">,</span> <span class="n">nfree</span><span class="p">,</span> <span class="n">etc</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">bytes</span><span class="o">.</span> <span class="n">It</span><span class="s1">&#39;s used by memory debugging to</span>
<span class="n">track</span> <span class="n">memory</span> <span class="n">faults</span><span class="p">,</span> <span class="ow">and</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">used</span> <span class="n">by</span> <span class="o">.</span><span class="n">status</span> <span class="n">to</span> <span class="n">total</span> <span class="n">up</span> <span class="n">memory</span> <span class="n">usage</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="module-report">
<h3>MODULE_report<a class="headerlink" href="#module-report" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">static</span> <span class="n">void</span> <span class="n">MODULE_report</span> <span class="p">(</span><span class="nb">int</span> <span class="n">idx</span><span class="p">)</span>

<span class="n">This</span> <span class="n">should</span> <span class="n">provide</span> <span class="n">a</span> <span class="n">relatively</span> <span class="n">short</span> <span class="n">report</span> <span class="n">of</span> <span class="n">the</span> <span class="n">module</span><span class="s1">&#39;s status</span>
<span class="p">(</span><span class="k">for</span> <span class="n">the</span> <span class="n">module</span> <span class="ow">and</span> <span class="n">status</span> <span class="n">commands</span><span class="p">)</span><span class="o">.</span>
</pre></div>
</div>
<p>These functions are available to modules. MANY more available functions
can be found in src/mod/module.h.</p>
</div>
<div class="section" id="additional-functions">
<h3>Additional functions<a class="headerlink" href="#additional-functions" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="o">*</span><span class="n">nmalloc</span><span class="p">(</span><span class="nb">int</span> <span class="n">j</span><span class="p">);</span>

<span class="n">This</span> <span class="n">allocates</span> <span class="n">j</span> <span class="nb">bytes</span> <span class="n">of</span> <span class="n">memory</span><span class="o">.</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">nfree</span><span class="p">(</span><span class="n">void</span> <span class="o">*</span><span class="n">a</span><span class="p">);</span>

<span class="n">This</span> <span class="n">frees</span> <span class="n">an</span> <span class="n">nmalloc</span><span class="s1">&#39;d block of memory.</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Context</span><span class="p">;</span>

<span class="n">Actually</span> <span class="n">a</span> <span class="n">macro</span> <span class="o">--</span> <span class="n">records</span> <span class="n">the</span> <span class="n">current</span> <span class="n">position</span> <span class="ow">in</span> <span class="n">execution</span> <span class="p">(</span><span class="k">for</span>
<span class="n">debugging</span><span class="p">)</span><span class="o">.</span> <span class="n">Using</span> <span class="n">Context</span> <span class="ow">is</span> <span class="n">no</span> <span class="n">longer</span> <span class="n">recommended</span><span class="p">,</span> <span class="n">because</span> <span class="n">it</span> <span class="n">uses</span>
<span class="n">too</span> <span class="n">many</span> <span class="n">resources</span> <span class="ow">and</span> <span class="n">a</span> <span class="n">core</span> <span class="n">file</span> <span class="n">provides</span> <span class="n">much</span> <span class="n">more</span> <span class="n">information</span><span class="o">.</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">dprintf</span><span class="p">(</span><span class="nb">int</span> <span class="n">idx</span><span class="p">,</span> <span class="n">char</span> <span class="o">*</span><span class="nb">format</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>

<span class="n">This</span> <span class="n">acts</span> <span class="n">like</span> <span class="n">a</span> <span class="n">normal</span> <span class="n">printf</span><span class="p">()</span> <span class="n">function</span><span class="p">,</span> <span class="n">but</span> <span class="n">it</span> <span class="n">outputs</span> <span class="n">to</span>
<span class="n">log</span><span class="o">/</span><span class="n">socket</span><span class="o">/</span><span class="n">idx</span><span class="o">.</span>

<span class="n">idx</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">normal</span> <span class="n">dcc</span> <span class="n">idx</span><span class="p">,</span> <span class="ow">or</span> <span class="k">if</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">sock</span> <span class="n">number</span><span class="o">.</span>

<span class="n">Other</span> <span class="n">destinations</span><span class="p">:</span>
  <span class="n">DP_LOG</span>    <span class="o">-</span> <span class="n">send</span> <span class="n">to</span> <span class="n">log</span> <span class="n">file</span>
  <span class="n">DP_STDOUT</span> <span class="o">-</span> <span class="n">send</span> <span class="n">to</span> <span class="n">stdout</span>
  <span class="n">DP_MODE</span>   <span class="o">-</span> <span class="n">send</span> <span class="n">via</span> <span class="n">mode</span> <span class="n">queue</span> <span class="n">to</span> <span class="n">the</span> <span class="n">server</span>
  <span class="n">DP_SERVER</span> <span class="o">-</span> <span class="n">send</span> <span class="n">via</span> <span class="n">normal</span> <span class="n">queue</span> <span class="n">to</span> <span class="n">the</span> <span class="n">server</span>
  <span class="n">DP_HELP</span>   <span class="o">-</span> <span class="n">send</span> <span class="n">via</span> <span class="n">help</span> <span class="n">queue</span> <span class="n">to</span> <span class="n">server</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">const</span> <span class="n">module_entry</span> <span class="o">*</span><span class="n">module_find</span><span class="p">(</span><span class="n">char</span> <span class="o">*</span><span class="n">module_name</span><span class="p">,</span> <span class="nb">int</span> <span class="n">major</span><span class="p">,</span> <span class="nb">int</span> <span class="n">minor</span><span class="p">);</span>

  <span class="n">Searches</span> <span class="k">for</span> <span class="n">a</span> <span class="n">loaded</span> <span class="n">module</span> <span class="p">(</span><span class="n">matching</span> <span class="n">major</span><span class="p">,</span> <span class="o">&gt;=</span> <span class="n">minor</span><span class="p">),</span> <span class="ow">and</span> <span class="n">returns</span>
  <span class="n">info</span> <span class="n">about</span> <span class="n">it</span><span class="o">.</span>

  <span class="n">Members</span> <span class="n">of</span> <span class="n">module_entry</span><span class="p">:</span>
    <span class="n">char</span> <span class="o">*</span><span class="n">name</span><span class="p">;</span>      <span class="o">-</span> <span class="n">module</span> <span class="n">name</span>
    <span class="nb">int</span> <span class="n">major</span><span class="p">;</span>       <span class="o">-</span> <span class="n">real</span> <span class="n">major</span> <span class="n">version</span>
    <span class="nb">int</span> <span class="n">minor</span><span class="p">;</span>       <span class="o">-</span> <span class="n">real</span> <span class="n">minor</span> <span class="n">version</span>
    <span class="n">Function</span> <span class="o">*</span><span class="n">funcs</span><span class="p">;</span> <span class="o">-</span> <span class="n">function</span> <span class="n">table</span> <span class="p">(</span><span class="n">see</span> <span class="n">above</span><span class="p">)</span>

<span class="n">void</span> <span class="n">module_rename</span><span class="p">(</span><span class="n">char</span> <span class="o">*</span><span class="n">old_module_name</span><span class="p">,</span> <span class="n">char</span> <span class="o">*</span><span class="n">new_module_name</span><span class="p">)</span>

  <span class="n">This</span> <span class="n">renames</span> <span class="n">a</span> <span class="n">module</span> <span class="n">frim</span> <span class="n">old_module_name</span> <span class="n">to</span> <span class="n">new_module_name</span><span class="o">.</span>

<span class="n">void</span> <span class="n">add_hook</span><span class="p">(</span><span class="nb">int</span> <span class="n">hook_num</span><span class="p">,</span> <span class="n">Function</span> <span class="o">*</span><span class="n">funcs</span><span class="p">)</span>
<span class="n">void</span> <span class="n">del_hook</span><span class="p">(</span><span class="nb">int</span> <span class="n">hook_num</span><span class="p">,</span> <span class="n">Function</span> <span class="o">*</span><span class="n">funcs</span><span class="p">)</span>

 <span class="n">These</span> <span class="n">are</span> <span class="n">used</span> <span class="k">for</span> <span class="n">adding</span> <span class="ow">or</span> <span class="n">removing</span> <span class="n">hooks</span> <span class="n">to</span><span class="o">/</span><span class="kn">from</span> <span class="nn">Eggdrop</span> <span class="n">code</span> <span class="n">that</span>
 <span class="n">are</span> <span class="n">triggered</span> <span class="n">on</span> <span class="n">various</span> <span class="n">events</span><span class="o">.</span> <span class="n">Valid</span> <span class="n">hooks</span> <span class="n">are</span><span class="p">:</span>
   <span class="n">HOOK_SECONDLY</span>   <span class="o">-</span> <span class="n">called</span> <span class="n">every</span> <span class="n">second</span>
   <span class="n">HOOK_MINUTELY</span>   <span class="o">-</span> <span class="n">called</span> <span class="n">every</span> <span class="n">minute</span>
   <span class="n">HOOK_5MINUTELY</span>  <span class="o">-</span> <span class="n">called</span> <span class="n">every</span> <span class="mi">5</span> <span class="n">minutes</span>
   <span class="n">HOOK_HOURLY</span>     <span class="o">-</span> <span class="n">called</span> <span class="n">every</span> <span class="n">hour</span> <span class="p">(</span><span class="n">hourly</span><span class="o">-</span><span class="n">updates</span> <span class="n">minutes</span> <span class="n">past</span><span class="p">)</span>
   <span class="n">HOOK_DAILY</span>      <span class="o">-</span> <span class="n">called</span> <span class="n">when</span> <span class="n">the</span> <span class="n">logfiles</span> <span class="n">are</span> <span class="n">switched</span>

   <span class="n">HOOK_READ_USERFILE</span> <span class="o">-</span> <span class="n">called</span> <span class="n">when</span> <span class="n">the</span> <span class="n">userfile</span> <span class="ow">is</span> <span class="n">read</span>
   <span class="n">HOOK_USERFILE</span>      <span class="o">-</span> <span class="n">called</span> <span class="n">when</span> <span class="n">the</span> <span class="n">userfile</span> <span class="ow">is</span> <span class="n">written</span>
   <span class="n">HOOK_PRE_REHASH</span>    <span class="o">-</span> <span class="n">called</span> <span class="n">just</span> <span class="n">before</span> <span class="n">a</span> <span class="n">rehash</span>
   <span class="n">HOOK_REHASH</span>        <span class="o">-</span> <span class="n">called</span> <span class="n">just</span> <span class="n">after</span> <span class="n">a</span> <span class="n">rehash</span>
   <span class="n">HOOK_IDLE</span>          <span class="o">-</span> <span class="n">called</span> <span class="n">whenever</span> <span class="n">the</span> <span class="n">dcc</span> <span class="n">connections</span> <span class="n">have</span> <span class="n">been</span>
                        <span class="n">idle</span> <span class="k">for</span> <span class="n">a</span> <span class="n">whole</span> <span class="n">second</span>
   <span class="n">HOOK_BACKUP</span>        <span class="o">-</span> <span class="n">called</span> <span class="n">when</span> <span class="n">a</span> <span class="n">user</span><span class="o">/</span><span class="n">channel</span> <span class="n">file</span> <span class="n">backup</span> <span class="ow">is</span> <span class="n">done</span>
   <span class="n">HOOK_LOADED</span>        <span class="o">-</span> <span class="n">called</span> <span class="n">when</span> <span class="n">Eggdrop</span> <span class="ow">is</span> <span class="n">first</span> <span class="n">loaded</span>
   <span class="n">HOOK_DIE</span>           <span class="o">-</span> <span class="n">called</span> <span class="n">when</span> <span class="n">Eggdrop</span> <span class="ow">is</span> <span class="n">about</span> <span class="n">to</span> <span class="n">die</span>

<span class="n">char</span> <span class="o">*</span><span class="n">module_unload</span> <span class="p">(</span><span class="n">char</span> <span class="o">*</span><span class="n">module_name</span><span class="p">);</span>
<span class="n">char</span> <span class="o">*</span><span class="n">module_load</span> <span class="p">(</span><span class="n">char</span> <span class="o">*</span><span class="n">module_name</span><span class="p">);</span>

  <span class="n">Tries</span> <span class="n">to</span> <span class="n">load</span> <span class="ow">or</span> <span class="n">unload</span> <span class="n">the</span> <span class="n">specified</span> <span class="n">module</span><span class="p">;</span> <span class="n">returns</span> <span class="mi">0</span> <span class="n">on</span> <span class="n">success</span><span class="p">,</span> <span class="ow">or</span>
  <span class="n">an</span> <span class="n">error</span> <span class="n">message</span><span class="o">.</span>

<span class="n">void</span> <span class="n">add_tcl_commands</span><span class="p">(</span><span class="n">tcl_cmds</span> <span class="o">*</span><span class="n">tab</span><span class="p">);</span>
<span class="n">void</span> <span class="n">rem_tcl_commands</span><span class="p">(</span><span class="n">tcl_cmds</span> <span class="o">*</span><span class="n">tab</span><span class="p">);</span>

  <span class="n">Provides</span> <span class="n">a</span> <span class="n">quick</span> <span class="n">way</span> <span class="n">to</span> <span class="n">create</span> <span class="ow">and</span> <span class="n">remove</span> <span class="n">a</span> <span class="n">table</span> <span class="n">of</span> <span class="n">Tcl</span> <span class="n">commands</span><span class="o">.</span> <span class="n">The</span>
  <span class="n">table</span> <span class="ow">is</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">form</span> <span class="n">of</span><span class="p">:</span>

    <span class="p">{</span><span class="n">char</span> <span class="o">*</span><span class="n">func_name</span><span class="p">,</span> <span class="n">Function</span> <span class="o">*</span><span class="n">function_to_call</span><span class="p">}</span>

  <span class="n">Use</span> <span class="p">{</span> <span class="n">NULL</span><span class="p">,</span> <span class="n">NULL</span> <span class="p">}</span> <span class="n">to</span> <span class="n">indicate</span> <span class="n">the</span> <span class="n">end</span> <span class="n">of</span> <span class="n">the</span> <span class="nb">list</span><span class="o">.</span>

<span class="n">void</span> <span class="n">add_tcl_ints</span><span class="p">(</span><span class="n">tcl_ints</span> <span class="o">*</span><span class="p">);</span>
<span class="n">void</span> <span class="n">rem_tcl_ints</span><span class="p">(</span><span class="n">tcl_ints</span> <span class="o">*</span><span class="p">);</span>

  <span class="n">Provides</span> <span class="n">a</span> <span class="n">quick</span> <span class="n">way</span> <span class="n">to</span> <span class="n">create</span> <span class="ow">and</span> <span class="n">remove</span> <span class="n">a</span> <span class="n">table</span> <span class="n">of</span> <span class="n">links</span> <span class="kn">from</span> <span class="nn">C</span>
  <span class="nb">int</span> <span class="n">variables</span> <span class="n">to</span> <span class="n">Tcl</span> <span class="n">variables</span> <span class="p">(</span><span class="n">add_tcl_ints</span> <span class="n">checks</span> <span class="n">to</span> <span class="n">see</span> <span class="k">if</span> <span class="n">the</span> <span class="n">Tcl</span>
  <span class="n">variable</span> <span class="n">exists</span> <span class="ow">and</span> <span class="n">copies</span> <span class="n">it</span> <span class="n">over</span> <span class="n">the</span> <span class="n">C</span> <span class="n">one</span><span class="p">)</span><span class="o">.</span> <span class="n">The</span> <span class="nb">format</span> <span class="n">of</span> <span class="n">table</span> <span class="ow">is</span><span class="p">:</span>

    <span class="p">{</span><span class="n">char</span> <span class="o">*</span><span class="n">variable_name</span><span class="p">,</span> <span class="nb">int</span> <span class="o">*</span><span class="n">variable</span><span class="p">,</span> <span class="nb">int</span> <span class="n">readonly</span><span class="p">}</span>

  <span class="n">Use</span> <span class="p">{</span><span class="n">NULL</span><span class="p">,</span> <span class="n">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">}</span> <span class="n">to</span> <span class="n">indicate</span> <span class="n">the</span> <span class="n">end</span> <span class="n">of</span> <span class="n">the</span> <span class="nb">list</span><span class="o">.</span>

<span class="n">void</span> <span class="n">add_tcl_strings</span><span class="p">(</span><span class="n">tcl_strings</span> <span class="o">*</span><span class="p">);</span>
<span class="n">void</span> <span class="n">rem_tcl_strings</span><span class="p">(</span><span class="n">tcl_strings</span> <span class="o">*</span><span class="p">);</span>

  <span class="n">Provides</span> <span class="n">a</span> <span class="n">quick</span> <span class="n">way</span> <span class="n">to</span> <span class="n">create</span> <span class="ow">and</span> <span class="n">remove</span> <span class="n">a</span> <span class="n">table</span> <span class="n">of</span> <span class="n">links</span> <span class="kn">from</span> <span class="nn">C</span>
  <span class="n">string</span> <span class="n">variables</span> <span class="n">to</span> <span class="n">Tcl</span> <span class="n">variables</span> <span class="p">(</span><span class="n">add_tcl_ints</span> <span class="n">checks</span> <span class="n">to</span> <span class="n">see</span> <span class="k">if</span> <span class="n">the</span>
  <span class="n">Tcl</span> <span class="n">variable</span> <span class="n">exists</span> <span class="ow">and</span> <span class="n">copies</span> <span class="n">it</span> <span class="n">over</span> <span class="n">the</span> <span class="n">C</span> <span class="n">one</span><span class="p">)</span><span class="o">.</span> <span class="n">The</span> <span class="nb">format</span> <span class="n">of</span> <span class="n">table</span>
  <span class="ow">is</span><span class="p">:</span>

    <span class="p">{</span><span class="n">char</span> <span class="o">*</span><span class="n">variable_name</span><span class="p">,</span> <span class="n">char</span> <span class="o">*</span><span class="n">string</span><span class="p">,</span> <span class="nb">int</span> <span class="n">length</span><span class="p">,</span> <span class="nb">int</span> <span class="n">flags</span><span class="p">}</span>

  <span class="n">Use</span> <span class="p">{</span><span class="n">NULL</span><span class="p">,</span> <span class="n">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">}</span> <span class="n">to</span> <span class="n">indicate</span> <span class="n">the</span> <span class="n">end</span> <span class="n">of</span> <span class="n">the</span> <span class="nb">list</span><span class="o">.</span> <span class="n">Use</span> <span class="mi">0</span> <span class="k">for</span>
  <span class="n">length</span> <span class="k">if</span> <span class="n">you</span> <span class="n">want</span> <span class="n">a</span> <span class="n">const</span> <span class="n">string</span><span class="o">.</span> <span class="n">Use</span> <span class="n">STR_DIR</span> <span class="k">for</span> <span class="n">flags</span> <span class="k">if</span> <span class="n">you</span> <span class="n">want</span> <span class="n">a</span>
  <span class="s1">&#39;/&#39;</span> <span class="n">constantly</span> <span class="n">appended</span><span class="p">;</span> <span class="n">use</span> <span class="n">STR_PROTECT</span> <span class="k">if</span> <span class="n">you</span> <span class="n">want</span> <span class="n">the</span> <span class="n">variable</span> <span class="nb">set</span>
  <span class="ow">in</span> <span class="n">the</span> <span class="n">config</span> <span class="n">file</span><span class="p">,</span> <span class="n">but</span> <span class="ow">not</span> <span class="n">during</span> <span class="n">normal</span> <span class="n">usage</span><span class="o">.</span>

<span class="n">void</span> <span class="n">add_builtins</span><span class="p">(</span><span class="n">p_tcl_hash_list</span> <span class="n">table</span><span class="p">,</span> <span class="n">cmd_t</span> <span class="o">*</span><span class="n">cc</span><span class="p">);</span>
<span class="n">void</span> <span class="n">rem_builtins</span><span class="p">(</span><span class="n">p_tcl_hash_list</span> <span class="n">table</span><span class="p">,</span> <span class="n">cmd_t</span> <span class="o">*</span><span class="n">cc</span><span class="p">);</span>

  <span class="n">This</span> <span class="n">adds</span> <span class="n">binds</span> <span class="n">to</span> <span class="n">one</span> <span class="n">of</span> <span class="n">Eggdrop</span><span class="s1">&#39;s bind tables. The format of the</span>
  <span class="n">table</span> <span class="ow">is</span><span class="p">:</span>

    <span class="p">{</span><span class="n">char</span> <span class="o">*</span><span class="n">command</span><span class="p">,</span> <span class="n">char</span> <span class="o">*</span><span class="n">flags</span><span class="p">,</span> <span class="n">Function</span> <span class="o">*</span><span class="n">function</span><span class="p">,</span> <span class="n">char</span> <span class="o">*</span><span class="n">displayname</span><span class="p">}</span>

  <span class="n">Use</span> <span class="p">{</span><span class="n">NULL</span><span class="p">,</span> <span class="n">NULL</span><span class="p">,</span> <span class="n">NULL</span><span class="p">,</span> <span class="n">NULL</span><span class="p">}</span> <span class="n">to</span> <span class="n">indicate</span> <span class="n">the</span> <span class="n">end</span> <span class="n">of</span> <span class="n">the</span> <span class="nb">list</span><span class="o">.</span>

  <span class="n">This</span> <span class="n">works</span> <span class="n">EXACTLY</span> <span class="n">like</span> <span class="n">the</span> <span class="n">Tcl</span> <span class="s1">&#39;bind&#39;</span> <span class="n">command</span><span class="o">.</span> <span class="n">displayname</span> <span class="ow">is</span> <span class="n">what</span> <span class="n">Tcl</span>
  <span class="n">sees</span> <span class="n">this</span> <span class="n">function</span><span class="s1">&#39;s proc name as (in .binds all).</span>

  <span class="n">function</span> <span class="ow">is</span> <span class="n">called</span> <span class="k">with</span> <span class="n">exactly</span> <span class="n">the</span> <span class="n">same</span> <span class="n">args</span> <span class="k">as</span> <span class="n">a</span> <span class="n">Tcl</span> <span class="n">binding</span> <span class="ow">is</span> <span class="k">with</span>
  <span class="nb">type</span> <span class="n">conversion</span> <span class="n">taken</span> <span class="n">into</span> <span class="n">account</span> <span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span> <span class="n">idx</span><span class="s1">&#39;s are ints). Return values</span>
  <span class="n">are</span> <span class="n">much</span> <span class="n">the</span> <span class="n">same</span> <span class="k">as</span> <span class="n">Tcl</span> <span class="n">bindings</span><span class="o">.</span> <span class="n">Use</span> <span class="nb">int</span> <span class="mi">0</span><span class="o">/</span><span class="mi">1</span> <span class="k">for</span> <span class="n">those</span> <span class="n">which</span> <span class="n">require</span>
  <span class="mi">0</span><span class="o">/</span><span class="mi">1</span><span class="p">,</span> <span class="ow">or</span> <span class="n">char</span> <span class="o">*</span> <span class="k">for</span> <span class="n">those</span> <span class="n">which</span> <span class="n">require</span> <span class="n">a</span> <span class="n">string</span> <span class="p">(</span><span class="n">auch</span> <span class="k">as</span> <span class="n">filt</span><span class="p">)</span><span class="o">.</span> <span class="n">Return</span>
  <span class="n">nothing</span> <span class="k">if</span> <span class="n">no</span> <span class="k">return</span> <span class="n">value</span> <span class="ow">is</span> <span class="n">required</span><span class="o">.</span>

<span class="n">void</span> <span class="n">putlog</span> <span class="p">(</span><span class="nb">int</span> <span class="n">logmode</span><span class="p">,</span> <span class="n">char</span> <span class="o">*</span><span class="n">channel</span><span class="p">,</span> <span class="n">char</span> <span class="o">*</span><span class="nb">format</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>

  <span class="n">Adds</span> <span class="n">text</span> <span class="n">to</span> <span class="n">a</span> <span class="n">logfile</span> <span class="p">(</span><span class="n">determined</span> <span class="n">by</span> <span class="n">logmode</span> <span class="ow">and</span> <span class="n">channel</span><span class="p">)</span><span class="o">.</span> <span class="n">This</span> <span class="n">text</span>
  <span class="n">will</span> <span class="n">also</span> <span class="n">output</span> <span class="n">to</span> <span class="nb">any</span> <span class="n">users</span><span class="s1">&#39; consoles if they have the specified</span>
  <span class="n">console</span> <span class="n">mode</span> <span class="n">enabled</span><span class="o">.</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="what-to-do-with-a-module">
<h2>What to do with a module?<a class="headerlink" href="#what-to-do-with-a-module" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>If you have written a module and feel that you wish to share it with the
rest of the Eggdrop community, upload it to the incoming directory on
incoming.eggheads.org (/incoming/modules/1.8). Place a nice descriptive
text (modulename.desc) with it, and it’ll make its way to the modules
directory on ftp.eggheads.org. Don’t forget to mention in your text file
which version Eggdrop the module is written for.</div></blockquote>
<p>Copyright (C) 1999 - 2020 Eggheads Development Team</p>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
            <a href="core.html" title="Eggdrop Core Settings"
              >previous</a> |
            <a href="assoc.html" title="Assoc Module"
              >next</a>
          </div>
          <div role="note" aria-label="source link">
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, Eggheads.
      Last updated on Jan 20, 2020.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>