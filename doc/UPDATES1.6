$Id: UPDATES1.6,v 1.433 2002/11/29 06:14:22 wcc Exp $

Changes in Eggdrop: (since v1.6.0)
----------------------------------

1.6.14
Found by  Fixed by  What...
          The_Dawn  fixed a problem in cmd_kick()/cmd_kickban() where the
                    victim's access is checked instead of the user's
Paladin   Wcc       exported MD5 functions to modules
          Wcc       exported me_voice() in irc_table
          Wcc       .say and .act now allow you to send a message to a moderated
                    channel when the bot has halfop status

1.6.13 (22 November 2002)
Found by  Fixed by  What...
          BarkerJr  doc/MODULES updates
          stdarg    fixed utf-8 handling for config file strings (such as realname)
          Souperman added a proc to alltools that returns the ordinal number
                    for a number
          Wcc       added support for EMFILE (errno 24 - Too many files open)
                    in neterror()
          MC_8      fixed the list format returned by tcl_channel_info()
          Eule      don't ban users when not going to kick in refresh_ban_kick()
          Eule      added a stacking limit for fastdeq
          Eule      made the modes-per-line limit definable in src/chan.h
          BarkerJr  [ban/exempt/invite]-time were not being saved to the channel file
Eule      Wcc       halfops were not honored in flush_modes()
          NeoN      fixed cosmetic problems with logging in some irc module commands
          Mo-Ize    exported tell_bottree() to modues
          BarkerJr  optimized logging functions
various   Wcc       removed eggdrop.advanced.conf and eggdrop.simple.conf
TaKeDa    Eule      adding a missing killsock and lostdcc in eof_dcc_send() and
                    eof_dcc_get()
          Wcc       fixed the logic in check_this_member()
          BarkerJr  made the timestamp style definable in src/eggdrop.h
          Eule      added a missing return in bot_actchan()
various   [sL]      fixed a problem with 'connect' and 'control' where the script
                    would abort prematurely
          BarkerJr  don't "want ops" in modeless (+) channels
guppy     Wcc       tell the user to set 'my-ip' when hostname self-lookup fails
ridens    Wcc       improved access checking in -host/+host
Jerome    Wcc       fixed a possible buffer overflow in raw_dcc_resend_send()
          darko``   fixed a missing escape in some regexps in misc/modconfig
[sL]      Wcc       channel set #chan chanmode $var corrupted $var in Tcl8.x
          blaster^  don't log "joined #chan but didn't want to" in certain cases where
                    the channel was newly removed or set inactive
          Wcc       cosmetic changes to share_stick_[exempt/invite/ban]
J Lehto   TaKeDa    msg_key and msg_invite did not work properly for !channels
          BarkerJr  show the number of hops in .trace's output
          Mo-Ize    use the proper dynamic lib extention on Mac OSX
          Wiktor    return 5 from dccsend if the file exists in the temp directory and
                    copy-to-tmp is enabled
          poptix    fixed a possible exploit in reaffirm_owners()
KuNgFo0   Wcc/      friends/ops/bots are now correctly unbanned when a ban is set on a
          [sL]      channel that matches their host
          BHAB      compile fix for systems that do not support snprintf()
various   Wcc/      fixed a bug where if the bot is kicked while channel information is
          [sL]      still being received, the bot will think it's still on the channel and
                    not rejoin
ble       Wcc       removed names parsing, as it causes many problems and was only
                    added for compatability with an old version of unrealircd
[sL]      Wcc       more broken dprintf's in irc commands
ble       Wcc       fixed a broken dprintf in cmd_kick()
          Wcc       made [ban/invite/exempt]-time a channel int
          BarkerJr  documentation updates related to the PUBM bind

1.6.12 (26 July 2002)
Found by  Fixed by  What...
Segfault            reverted the sockfix patches from 1.6.11

1.6.11 (26 July 2002)
Found by  Fixed by  What...
various   Wcc       need-[limit/invite/unban/key] work now
          [sL]      fixed a problem with 'connect' and 'control' where the script would abort
                    prematurely
          Wcc       improved the logic in cmd_mnsban when specifying what happen to remove and
                    where to remove it from
          Eule      fixed cmd_kickban so it works
          Wcc/      fixed a bug causing "[HH:MM] !!! OVER MAXIMUM <queue> QUEUE" to be
          [sL]      logged to LOG_SVROUT
          Wcc       log PINGs/PONGs sent to the server in LOG_SVROUT
          guppy     some small changes to make eggdrop work with tcl8.4b1 (it won't work with
                    tcl8.4a1 or a2 anymore though)
dork      TaKeDa    fixed a crash while doing .kickban -nick
          Zart      the return values of uname() are now properly checked
          Zart      added handlen friendly code to various commands (this is a new patch to
                    replace the handlen friendly patch reverted in 1.6.10
          BarkerJr  don't show +inactive channels in a remote .who
          guppy     changed the .status output a bit (includes the name of the config file
                    now)
guppy     Wcc       msg_whois should require an argument.
          Wcc       added support for halfops (channel mode +h)
MaSsKilla Wcc       don't allow channels containing commas to be added.. 
                    also made an error message more clear
          BarkerJr  updates to doc/MODULES
          Wcc       more doc updates
          TaKeDa    fix for !channels when people quit or change nicks
          aXs/      made all the commands use CHANMETA instead of hardcoding channel types
          Eule
various   stdarg/   added 'channel get <chan> <setting>' (backported from 1.7)
          Mo-Ize
          guppy     uptime.mod will not unload now once loaded (this prevents you from
                    losing your stats on a .restart .. to remove, you have to .die)
          guppy     uptime.mod now sends the proper pid and also won't send garbage if
                    the bot currently isn't on a server
          Wcc       updated slennox's sentinel.tcl to the latest version
guppy     Wcc       added support for +r on Undernet's ircu 2.10.11
          upstream  fixed a crash in seen.mod with long channel names
          slug      added support for the +C channel mode (noctcp) on QuakeNet's ircu

1.6.10 (29 March 2002)
Found by  Fixed by  What...
(^Baron^) Eule      protect(ops|friends) works with +bitch now
          guppy     reverted the handlen friendly patches
MaSsKilla dw	    fixed a crash when trying to add an invalid chan using .+chan
various   guppy     nick2hand didn't return "" on a nick that wasn't in the channel
slennox   Wcc       fixed a few config file problems
Paladin   Wcc       chattr's description in tcl-commands.doc was unclear relating to
                    channel-specific flag changes
          NetIrc    transfer.french.lang was created
          Noyga     cmd_who is now languagified! (nice word eh?)
          Noyga     made it easier to change the number of global partyline channels
MC_8      Wcc       more tcl-commands.doc fixes
MC_8      Wcc       added some missing command options to tcl-commands.doc
          Uwe       cd_cmd_table was missing a null entry at the end of the list

1.6.9 (10 March 2002)
Found by  Fixed by  What...
          BarkerJr/ "Detected loop: two bots exist named bot2: disconnecting
          Wcc       bot3" sounds better than "Detected loop: disconnecting
                    (bot2): Disconnected bot3".
          Wcc/      Added a few channels to the README and readme.html
          SiDEWiNDR and made references to other docs in the html files
                    links to their respective html files.
various   Eule      modes-per-line is limited to a max of 6 modes per line
          Wcc       more doc fixes
          Wcc       removed an extra space from the "Writing channel
                    file..." message
          Amir      fixed a problem with uff not adding entries properly
          Boing     made cmd_channel, cmd_dccstat, cmd_who, cmd_whois, cmd_match handlen
                    friendly
          Amir      botlink() now safely copies the linker string
various   Eule      fixed crashes relating to flushmodes
Wanderer| dw	    tcl command modules missing in doc/tcl-commands.doc
          guppy     users with only +x can now only login via dcc chat, they cannot use 
                    telnet
          Wcc       more documentation updates
          Eule/     changed how protectops and protectfriends works a bit:
          guppy       if the user has either glob +d or chan +d then no protection
                      protectfriends now only protects +f users
                      protectops now only protects +m and +o users
various   guppy     doc/compiling.FAQ now includes info about setting LD_LIBRARY_PATH
Boing     guppy     fixed +protectops from reopping users with only +f and +protectfriends
                    from reopping users with only +o
          Wcc       made a few cosmetic changes to the configure script
          Wcc       more plural fixes for commands and error messages
Xerxes    guppy     "channel remove" will not crash the bot anymore if you are removing
                    the channel for which the bind was called
MC_8      stdarg    "channel info" will properly list all user-defined settings
various   guppy     fixed a problem with modconfig not being found when rerunning
                    ./configure
          ITE       made modconfig more portable across various bourne shell flavours
          Eule      removed gban_total, gexempt_total and ginvite_total since they were
                    unused
          TaKeDa/   configure should recognize a dynamic tcl library now on cygwin
          ITE
dw        guppy     fixed a crash that would happen when we disconnected from our server
                    but did not reconnect to a server before we checked if a server was
                    stoned
          BHAB      lets compile on solaris now
BarkerJr  TaKeDa    update a bot's laston info when the bot unlinks
          Wcc       more cosmetic fixes to src/cmds.c
          Eule      small cosmetic fix to cmd_store
          TaKeDa    changed how kicking flooders works when -dontkickops
                      flood-kick: don't punish people with +mf
                      flood-deop: don't punish people with +mf
                      other floods: don't punish people with +f
          TaKeDa    fixed a bug where revenge-mode > 1 wouldn't kick users if dontkickops
                    was set
          Eule      missing sanity check in check_this_member
Paladinz  guppy     ircu2.10.11 properly formats PART messages; however, eggdrop did not
                    understand them
          Wcc       fixed a couple of cosmetic problems in cmd_pls_user
          Wcc       do not eval init-server on rehash since this variable is used for
                    performing tcl commands on a succesful server connection
MaSsKilla dw	    Couldn't introduce new users through telnet if a
		      handle named "new" existed.
SiD3WiNDR Wcc       MISC_USERFCREATE1 should use origbotname instead of botnetnick
          Wcc       added a warning about allow-resync in the config file
          TaKeDa    prevent botnet flooding when adding ignores which already exist
          Wcc       some docs were not getting installed correctly
          Wcc       [pass] should be <pass> in usage notices
          Wcc       more cosmetic changes
          Wcc       a bunch of little cosmetic changes
          Wcc       more doc updates
blaster^  Eule      fixed a memleak when adding users
          ITE       more 64bit arch fixes
          BarkerJr  lets log remote botinfo calls
          blaster^  
          BarkerJr  update a bot's laston info when the bot links
jedis     guppy     some more remote boot fixes 
|^Raven^| stdarg/   hand2nick, nick2hand, handonchan, and chanlist might not always return
          guppy     that a user is known even if we know they are -- this has been fixed

1.6.8 (2 January 2002)
Found by  Fixed by  What...
PPSlim    guppy     removed a legacy tcl hack that probably no one but old eggdrop users
                    knew about <g>
          Tothwolf  more copyright updates and documentation changes
          blaster^  raised the kick reason length to 307 for dalnet
          Wcc       fixed some cosmetic bugs relating to either 1 user or X users, stuff
                    like that
          Wcc       updated slennox's sentinel.tcl to the latest version
          Wcc       updated the html docs to be in sync with the text ones
          Wcc       updated the copyright info for 2002
          guppy     removed the checks for ips with 0 or 255 in them
various   guppy     when a leaf is thinking that uses a different HANDLEN then ours log
                    it and then drop the connection instead of just silently dropping
                    the connection
          guppy     changed checkmodule to loadmodule in the configs (checkmodule still
                    works for backwards compat)
          guppy     renamed nick-len to nicklen (nick-len still exists for backwards
                    compat) to follow the standard that handlen uses
          Wcc       updated doc/BOTNET and added doc/first_script.txt
          Wcc       removed some old debugging information
various   zip       prevent the bot from losing channel flags when allow-resync is set
          Wcc       some small cosmetic changes
          Wcc       added handlen for scripters to get the current length of handles from
                    src/eggdrop.h (this setting does not adjust handle lengths however)
          BarkerJr  cmd_whom now displays a sum of all the partyline users
          Tothwolf  copyright updates
jedis     guppy     fixed tcl_boot when kicking someone on another bot without a reason from
                    screwing up the boot reason
          Wcc       max-modes and max-modes are automatically set by net-type now
          guppy     origbotname was being wrongly used in some locations
          guppy     fixed a bug that prevented MODE from being sent when we get ops on a
                    channel to retrieve the proper channel key
VYOinlove guppy     don't try to open a dcc chat when people do /ctcp <bot> chat without a
                    a password set, instead send an error message
          quest/    fixed a problem on osx with files being shown as bytecount/-1
          stdarg
          BarkerJr  log the remote .who command
          BarkerJr  fixed a small bug in guppy's last patch
various   guppy     tcl_botisvoice, tcl_botisop, tcl_botonchan, tcl_onchansplit, tcl_isop,
                    tcl_isvoice, and tcl_handonchan all take channel as an optional argument
                    now
Abraham   guppy     tcl_onchan can now be used without a channel to check all the bot's 
                    channels
various   stdarg/   added tcl_traffic (a modified copy of stdarg's original patch)
          guppy/
Tothwolf  guppy     .servers doesn't trunicate server names anymore
Wcc       guppy     made cmd_modules work locally as well as remotely
          guppy     made show_banner reset the help_subst arguments like show_motd does
                    and if the motd isn't a regular file, just return instead of giving
                    an error like show_banner does
          guppy     tcl_jump could easily crash the bot
various   guppy     tcl_pushmode now accepts any irc modes instead of the standard ones
          guppy     made tcl_chanlist (when matching chanflags), tcl_handonchan, and
                    tcl_nick2hand much faster
          Eule      a bunch of small fixes to gotjoin, gotkick, got367, a
                    modes-per-line calcuation, and to include_lk
          Wcc       yet more documentation updates
ziffie    BHAB      Documentation doesn't cover how to connect to servers with 
                    a password; documentation added to sample config files.
|^Raven^| guppy     made tcl_hand2nick _a lot_ faster
          Eule      more membercheck fixes for nick bans, nick +k users, -user, and
                    -host.
          BarkerJr  only show fake alerts once every 10 seconds to prevent flooding
DFrank    guppy     small make install bug related to doc cleanups
          Wcc       major cleanup of config files and related documents
          BarkerJr  updated doc/MODULES a bit
RandomAPB Wcc       show the user port as users instead of telnet and the bot port
                    as a bot port instead of a relay port
various   stdarg    small fix to the notes module
          BarkerJr  updated the uptime url

1.6.7 (7 December 2001)
Found by  Fixed by  What...
          guppy     don't show status_log if we don't have a server
Wcc       ITE       lets make eggdrop work on cygwin again
Wcc       guppy     fixed a mixed up transfer language entry that caused a crash
various   nakee     added '--disable-cc-optimization' to disable -O2 flags
Abraham   Eule      added a missing channel membercheck in a few commands
S7reaM    guppy     tcl_newban had some silly guppy logic which caused a crash
          Noyga     added French language files for: assoc, console, notes
          Noyga     added %n for $network to the list of motd text substitutions
          nakee     added language support to transfer.mod
ClubCX    guppy     got rid of bad language
          poptix    rebound some commands to proper bindings (relay, bottree, vbottree)
          ITE       made our build system work with newer autoconf versions
          guppy     make the default bot a bit more secure in regards to
                    the ability to execute tcl commands from the partyline
various   guppy     tcl_newban and tcl_newchanban didn't always add the bans
          Wcc       cmd_optimise is now cmd_optimize
          Hanno     fixed testip in alltools.tcl
          Wcc       some more doc changes
          Eule      actually fixed stopnethack and a wasop bug
various   Wcc       added support for dalnet's +M chanmode
          Lam       fixed +a for !channels
          TaKaDa    fixed tcl_botattr
various   stdarg    fixed a bogus memory leak
          guppy     removed some leftovers in uptime.mod
blaster^  poptix    yet ANOTHER stupid bug. (crash in .-chan)
          guppy     minor changes to autobotchk (v1.09.1)
TaKeDa    stdarg    fixed a small crash in notes.mod
          TaKeDa    fix 'setuser <hand> PASS' from crashing
boro      bhab      stop_nethack_mode 4 oddity when a +a bot returns from a
                    split getting a -o+o (double negating mode)
	  poptix    Testing some better socket code (++)++
          Wcc       more typo fixing in the config files
          BarkerJr  more typo fixes
          Wcc       fixed several tons of spelling errors (really)
guppy     stdarg    tcl_chattr now lets you remove global flags
various   stdarg    fixed some issues with utf8 dealing with how we handle tcl
                    arguments
          Wcc       small fix to let tcl_adduser accept only a handle
FeaRx/    Sup       show `#channel is active but has no ops :(' only if channel
DarkReap1           is set +statuslog.
          Wcc       fixed up some spelling mistakes in tcl-commands.doc
          poptix    lots of argv[] fixes that caused crashes
dfrank    stdarg    'chattr hand' no longer crashes (legacy bug)
          poptix    finally fixed the banreason bug 
zip       guppy     small fix for ircu servers that send ERROR: instead of ERROR :
          fuchs     don't get GO if the channel is -cycle
          guppy     couple of small uptime.mod backports from 1.7
DrDeath   Sup       Exported module_load and module_unload for modules.
various   stdarg    fixed a potential sendnote crash when the notes module
                    is unloaded
          poptix    bad pointers are evil in tcl_userlist
          poptix    re-fix adduser overflow
          Tothwolf  don't attempt to flood check server notices
          Tothwolf  display global bans, exempts and invites even if
                    not on a channel
          Tothwolf  removed unused "existant" check from tell_bans(),
                    tell_exempts(), and tell_invites()
          Tothwolf  fixed buffer overflow in adduser()
          Tothwolf  fixed typo in filedb3.c: EBUG_MEM -> DEBUG_MEM
          Tothwolf  removed extra egg_bzero call from filesys.c
          poptix    properly check argv[]/argc before using it
          Tothwolf  added missing memory check for tclmisc.c
Tothwolf  guppy     new setting: pidfile (detaults to pid.botnetnick)
          poptix    oops, .kickban -nick didn't work.
          BarkerJr  backported a check for -dynamicbans to new[ban|exempt|invite]
          guppy     replaced old md5 routines with new ones (backport from 1.7)
          guppy     cleaned up our tcl information on .status (backport from 1.7)
          guppy     removed dcc-portrange since it was useless (backport from 1.7)
          drummer   show our proper user@host in cmd_status (backport from 1.7)
various   stdarg    proper utf8 support
          TaKeDa    small wasop fix
bleah     PPSlim    Fixed booting with full length handles
          BarkerJr  Allow wildcard CTCP binds
          BarkerJr  CTCP replies go to the HELP queue..
proton    poptix    don't bother sending server in the uptime packets
stdarg    poptix    we weren't looking the user record back up on iterations on channels
                    in the NICK bind, causing the chance of a bad pointer reference =P
                    (stdarg gave me the idea to look =)
          poptix    Oh, look, SIGN and SPLT binds actually pass on the user record now, 
                    and allow flag bindings =P
various   guppy     the documentation for the need bind was slightly screwy
          Kirben    don't check for static tcl under cygwin
          dw        Helpfile says nodesync (invalid mode) instead of nodesynch.
          Zart      makes .whom more handlen friendly
          Noyga     Fixes/Additions to command stacking
|^Raven^| Noyga     PRIVMSGs with the same message to the same destination
                    are no longer stacked also USERHOST/USERIP are not stacked
                    using a comma 
          Sup       Added HOOK_DIE to allow tcl_die to have a quit message.
          TaKeDa    small resync fix
          TaKaDa    fixed tcl_md5, it was broken on tcl8.1+
          Kirben    check whether cygwin requires -mwin32 to support
                    old versions of cygwin
          Kirben    check for bind in /usr/local/bind when using cygwin
NeoN-	  dw	    a banreason wasn't used in some cases.
Noyga     Sup       Bot sent a useless TOPIC command to the server
                    when it joined a channel.
          SuperS    added QNX support
          stdarg    host-sanity-check had a type mismatch
          Kirben    some small fixes
Abraham   Noyga     the channel file is now backed up
various   strolchi  small fix for binds and unicode characters

1.6.6 (20 July 2001)
Found by  Fixed by  What...
          Paladin   a few minor doc updates
various   ITE       fixed a slight problem with how we export modules
          drummer   ignore removals are now shared properly
          drummer   got rid of remove_gunk since it was unused
[joco]    Sup       fixed a small buffer overflow in cmd_whois
          LethalWP  fixed a small getops bug
          ITE       .conf cleanups, added TCL threaded info in DEBUG

1.6.5 (10 July 2001)
Found by  Fixed by  What...
TaKeDa    Fabian    Fixed 'make config' for some disabled_modules cases.
          Tothwolf  Readded missing std_args.h check.
Sup       guppy     removed an old ircd limit hack (legacy stuff owns)
          ejm       Fixed password checks in msg commands
          poptix    ctcr had the wrong args for 'uh', maybe this will break
                    something, I doubt it.
FumBa     guppy     wire.mod now checks if an encryption module is loaded
          poptix    guppy broke chattr's isowner() check
          dw        bot op status was not shown in .channel
          Tothwolf  Simplified and cleaned up variable usage and several
                    tests in configure.
          Tothwolf  Fixed broken pthreads checking.
KuNgFo0   Sup       Showing `inactive' in .status when the bot is not on the
                    channel was a bit confusing. Also added #eggfaq@EFNet to
                    docs.
Abraham   guppy     added: tcl_haschanrec
various   Sup       Prevent -b/-e/-I flooding by using random delays.
          guppy     misc cleanups in while() loops
          guppy     updated getops.tcl to v2.3
          guppy     updated recommended tcl version to 8.3.3 and changed the
                    ftp site for tcl to ftp.eggheads.org since
                    ftp.scriptics.com can be fairly picky these days.
          guppy     don't try to use null pointers in tbuf code *duh*
SegFault  guppy     small fix to what nickname we can use when we type "new"
          zip       we should use errno to detect EAGAIN in net.c
          guppy     display the proper queue that is full instead of just
                    DP_MODE
BenDover  guppy     changed the wording of %bantime <XdXhXm>
          Kirben    mount the eggdrop directory as binary in cygwin
          Kirben    compress.mod/dns.mod now check for the compiler also
          Sup       Made server-timeout match the default value in the code.
Amun      Sup       Added few missing brackets to channels.mod/channels.h
                    and exported remove_channel().
          Kirben/   check for pthread_mutex_init as a function instead of
          guppy     in a library
          Kirben    detect __res_mkquery since we detect __res_init now
Sup       G`Quann   Fixed empty line on LOG_SRVOUT and removed a
                    debug-output which confused users
          G`Quann   flush_inbuf and a killsock bug
          ITE       some access checking in msg commands
          guppy     tbuf fix
          guppy     check a bit harder for pthread_mutex_init
various   Oliver/   small fix to sscanf for libsafe systems
          guppy
          Sup       Made srandom() use getpid() and getppid()
          Sup       added .whoami command
          stdarg    more utf problems, buffer overflow(s)
          Kirben/   More Cygwin fixes
          RebuM
          NML_375   Fix for dccdumpfile/dumpfile
          poptix    Calling a proc from a bind, that modified the user
                    record of the person that triggered the bind, could
                    cause a crash.
          poptix    Memory leak in filesys.mod, that's been there since 1.3.x
          poptix    'setflags' never accepted all the aruements, fixed.
Tothwolf  Sup       tcl_ignorelist was showing the wrong expiration time.
poptix    poptix    Info locking was broken, and .info wasn't in .help
          Tothwolf  additions/clarifications to tcl-commands.doc
          poptix    getops.tcl problem due to ircnet hack support for
                    ! channels
          Sup       Don't try to relay to bots without proper address or
                    relay-port.
          Sup       Fixed .chaddr from changing the telnet-port and
                    relay-port.
          timothy   new evnt: loaded
          poptix    tcl command mkdir had wrong BADARGS (didnt allow channel
                    flags)
          poptix    when tcl var servers was empty, we had problems.
guppy     Sup       new bugs e-mail address: bugs@eggheads.org
          Sup       Added a setting for default console flags to
                    eggdrop.simple.conf, and made console-autosave
                    disabled by default.
Abraham   guppy     new evnt: prerestart (restart is tricky)
various   drummer/  we now detect __res_init for glibc2.2
          guppy
          guppy     removed legacy /trace support for keep-nick
          guppy     fixed a little bug that will happen in September of 2001
          TaKeDa    show the handle when rejecting a duplicate bot connection
          fuchs     small fix to MSGM's bind table
slennox   Sup       Updated the help channels in the docs.
          Eule      changed the way we check for sticky bans (saves cpu)
          Eugene    fixed various formatting mistakes
          SuperS    made the IRIX5,6 and 6-64bit OS detection into one check

1.6.4 (13 April 2001)
Found by  Fixed by  What...
          Sup       Minor fixes to write_debug() function.
          Eugene    more German translations and some typo fixes
          guppy     modified weed and autobotchk to find tclsh better
NaTaS     ITE       fixed weed's b<days> switch
          Sup       When rejecting bots don't try to execute rembot()
                    for bots that match bot's botnet-nick.
          Eugene    improved the German translations
fabulous  guppy     dcc resumes with no requested data are now ignored
                    properly
          Krome     call sync() after saving the userfile
various   Krome     fixed .-noteign from crashing the bot
          Wingman/  updated all the copyright info for 2001
          guppy
          Krome     modes-per-line works now when its set to 3
various   Darude    fixed channel add #chan from crashing the bot
          Eugene    various small typo fixes
          nakee     solaris make gcc fix
          Zart      small fix to the unicode stuff to handle Tcl > v9
guruz     Sup       Added matchbotattr to alltools.tcl.
          kirben    removed some legacy cygwin compatibility
          dw        cmd_stick activates the bans now
          Abraham   fixed a small remote-boots issue
          ITE       fixed the remote motd bug
blaster   ITE       fixed a small dns.c bug with hostname resolving
          Wingman   removed debug-tcl, since this is something noone uses
                    and is more bloat than anything
Darude    Darude/   encrypt/decrypt with highbit character messed up the
          Wingman   string
KingBob   Tothwolf/ Fixed rest of the problems with utf8 characters.
          Wingman

1.6.3 (27 February 2001)
Found by  Fixed by  What...
          guppy     made blowfish.mod a bit more friendly with other
                    encryption modules and also added hooks in the core
                    for string encryption/decryption
G`Quann   symband   Fixed a memleak within the XTRA field.
          Habeeb    if my-ip is wrong, tell the user that as the error msg
          slennox   updated sentinel to v2.50
          Jason     actually remove a ban from irc when a sharebot removes it
          Tothwolf  do not allow eggdrop to run as root
darkfall  Sup       msg_hello() was unable to add users with long nicks.
                    Also slightly cleaned up irc.mod/msgcmds.c.
          Jason     Fixed misformed notices in notes module. Corrected use
                    of language file, and fixed lang file entry.
          Tothwolf  shutdown once getting a SIGTERM by default
          Tothwolf  Improved Tcl version reporting
habeeb    Sup       Updated the help channels in README.
PPSlim    PPSlim/   +revengebot no longer requires that the bot has a
          guppy/    user-record for itself.
          Fabian
project10 guppy     made the reserved-port setting into reserved-portrange
various   Tothwolf  added i18n support to fix our problems with tcl
          PPSlim    some minor doc fixes
GregMo    Sup       `.note' wasn't correctly requiring a message parameter.
          Jason     fixed it so that +d or +k users cannot remove hosts and
                    thus circumvent auto-kick or deop
GregMo    guppy     fixed cmd_binds when called with no argument
          guppy     cleaned up Context and Assert usage in the modules

1.6.2 (January 14, 2001)
Found by  Fixed by  What...
S Wilcox  Sup       Fixed a minor typo in got432().
          blaster   fixed cmd_binds when doing '.binds all'
various   guppy     cmd_chaddr was broken thanks to a patch of mine
SuperS    ITE       fixed the traffic accounting code when dealing
                    high amounts of traffic
          ITE       made configure work properly when called with an
                    absolute path
Ian       Ian/      share.mod now uses .share.nick.unixtime.users as a
          guppy     temp file when recieving the userfile
          toot      fixed XTRA info from not working
          toot      fixed my bug that made revenge-mode get set back to
                    1 all the time.
          TaKeDa    we now understand negative limits (IRCnet allows this)
TaKeDa    Fabian    Parameter missing for share.mod's status information and
                    a uff error message. Minor optimisations elsewhere.
          Fabian    Removed old high character hack from readtclprog, as the
                    actual problem is now fixed.
many      Wingman   Added proper support for tcl unicode changes since 8.1.
          guppy     cleaned up Context; usage in the core
          guppy     rewrote tcl_duration
          guppy     more use of strncpyz and egg_snprintf in the core
          guppy     did some cleanup in tcl[user/misc/dcc].c
          Sup       Added a channel option to .[un]stick and slightly
                    cleaned up channels.mod/cmdschan.c.
fabulous  Fabian    Two calls to fclose() were missing in transfer.mod,
                    causing eggdrop to leak file descriptors.
          Eule      hopefully fixed the cycle-flood problem on some efnet
                    servers
          Eule      autovoice now uses autoop delay also
          Tothwolf  cleaned up some language entries
          Sup       default-port was set in the wrong location.
          ITE/      added '--disable-tcl-threads' to configure
          Tothwolf

1.6.1 (November 22, 2000)
Found by  Fixed by  What...
          Wiktor    updated KNOWN-PROBLEMS
          Eule      fixed a crash dealing with expired masks and a memleak
                    in misc.c
          toot      made revenge-mode a per-channel setting, rather than
                    global.
          dw        set quiet-save was missing in the help file.
suizide   dw        Seen module returned %s instead of nick in certain replys.
          Eule      small fix for enforcebans
          dw        Do not set bans if they don't match someone in the channel
                    and the channel is set +dynamicbans.
various   Fabian    Channel masks for unsupported channels weren't properly
                    skipped when parsing the user-file.
          Bob/      Now using lines with up to 500 instead of only 480
          Fabian    characters. Not truncating message anymore if it's longer
                    than 500 characters and doesn't contain spaces.
paran0id  Fabian    Fixed crash in expired_mask() when checking ops not
                    present in the user-list.

1.6.0 (November 15, 2000)
Found by  Fixed by  What...
Paladin   guppy     MISC_NOUSERFILE includes the actual config filename now
          dw        strict-host's default did not match the config default
                    of 0
          ITE       do not force +f on masters or owners
          Eule      removed legacy code for an ircd2.9 bug
          Wiktor/   removed the remaining lagcheck leftovers
          guppy
          Eule      fixed an issue with enforcebans and exempts.
          guppy     upgraded sentinel.tcl to v2.00
          Sup       Fixed minor typo in status_log().
Wiktor    Sup       Directly linked bots can't be removed anymore.
          guppy     removed 1.3.x updates from UPDATES.pre1.5
          Wiktor    Concated the UPDATE files
          Eule      Using "JOIN 0" instead of explicitly leaving every channel.
          guppy     New script: cmd_resolve.tcl (adds a .resolve command).
|^Raven^| Fabian    DNS module failed to handle IP address 0.0.0.0 properly.
guruz/    Fabian    Detect id-channel-names used as channel names (e.g. added
Evo|ver             with .+chan) during IRC session.
          Sup       Removed left-over command `.resolve' from dns.mod/dns.c.
          Sup       Made `.[de]op' and `.[de]voice' get nick if it wasn't
                    specified and added few missing flags to `.channel'
                    output. Also slightly cleaned up irc.mod/cmdsirc.c.
ReBEL     guppy     Increased the length of ban reasons from 65 to 160 (I
                    think this is what RFC1459 allows for default).
          Fabian    Moved strncpyz() macro from server.mod to a global location.
TaKeDa    Eule      Restricted WHO stacking to add up to a maximum of MAXPENALTY
                    penalty seconds.
          Eule      Added channel specific aop-delay setting. Allows randomly
                    delayed auto-ops, auto-ops after a certain delay and the
                    current behaviour, i.e. immediate auto-op.
Eule      Fabian    Fixed IRC_DO_CHANNEL_PART call from channels.c.
Abraham   Fabian    Fixed compiler warnings about 'const' for tcl libraries
                    that don't declare Tcl_SetVar as taking const strings.
          drummer   Fixed overflow in proxy_connect() for sun_firewall.
Tothwolf  Fabian    Could not remove joining channel from procs called by
                    JOIN bind.
fabulous  Fabian    The filesys module did not support remotely linked files.
                    Instead, the bot crashed in various places and didn't
                    even attempt to save/load the link information.
          Eule      Removed duplicate servlimit check from irc.mod.
          Eule      Added `e' as global- and channel-flag for users exempted
                    from the stopnethack checks.
          Fabian    Minor cleanup of protocol in back-ground code.
          Fabian    Avoid data lossage during the start of connections, while
                    the receiving dcc functions aren't listening yet. So now
                    you can blindly start sending data right after connecting
                    and depend on the OS and eggdrop to do The Right Thing.
Abraham,  Fabian    Changed failure of socket() to non-fatal event.
TaKeDa
TheUnknown Fabian   Fixed support for SunOS / Solaris.
          Fabian    Don't actually delete the bind structures immediately,
                    use centralised garbage collector instead. Cleaned up
                    various aspects of the bind list handling.
Sup       Fabian    Don't insist on proper domainname during hostname
                    detection.
Sup       Fabian    Properly call PART bind when removing channel and the bot
                    will therefore leave the channel shortly. Also slightly
                    reworked channel removal.
          Fabian    Move actual assert check back into macro, saving a
                    function call.
NigtHuntr Fabian    Removed small compile warning about ambigious if/else.
Abraham   Eule      Fixed and optimised ban/exempt and invite expiration code
                    for global and channel specific masks.
zart      Sup       DCC send and chat requests send to channels are now
                    ignored.
          Looser^   Fixed typo in irc.mod/irc.h me_op export macro.
          Eule      Made the bot recognise modes during CHAN_PEND. Allows us to
                    properly recognise bans/other masks and call mode binds.
          Eule      Fixed get_user_by_host, which was broken for strict_host
                    set to 0.
          Eule      Slightly optimised gotnick() by replacing the call to
                    clear_chanlist() with a specialised loop.
labtec    guppy     Instead of telnet!*@* we now use -telnet!*@* since no valid
                    IRC nicknames can be prefixed with a dash (per RFC1459).
          Eule      Added proper logics to the user{bans,exempts,invites}
                    settings and removed the clearbansset setting.
Abraham/  Fabian    Small typo in ismember() (added during cleanup) caused
DennisMV            channel functions to freak out. Sigh.
          Cybah     flush_mode() cleanups. -{b,e,I} now sent before +{b,e,I}.
                    used egg_strcatn to make buffer-overflow free.
          Fabian    Fixed caching for Tcl configuration details. As soon as
                    different libraries are detected, we discard cached
                    values.
          SuperS    Cleaned up style for aclocal.m4 system handling. Added
                    support for SunOS4.
          Fabian    Caching -pipe test results for configure.
various  TheUnknown Fixed linking for Sparc with SunOS/BSD/Linux, which caused
                    the bot to crash under certain circumstances.
         TheUnknown Added use of the -pipe compiler option, to speed-up
                    compilation.
          Eugene    Fixed bugs in German translation, typo in doc/MODULES and
                    lines longer than 80 characters in a few places.
          Fabian    Generic cleanups.
MsingLnk  Fabian    Fixed format-type bugs in notes.mod crashing the bot.
various   Fabian    Added support for threaded Tcl libs by implementing the
                    early-fork hack. Cleaner support will be possible in 1.7.
Wiktor    Fabian    Disabled cycling for +a !channels. Minor cleanups.
          Fabian    Minor optimizations in irc.mod:chan.c.
          Eule      Checking for m->user == NULL in kick_all() and
                    refresh_ban_kick() now. Minor optimizations.
          guppy     Removed `SERVER SUPPORT LOADED' message.
Igmar     Fabian    Added missing checks around new_dcc() call. This prevents
                    the bot from crashing under high connection load.
          Cybah     Added egg_strcatn function.
          Eugene    Repositioned help-path setting in eggdrop.simple.conf so
                    that the modules actually load the help files.
FuzzBuster Fabian   Minor documentation fix to seen.mod help.
Karsten   Fabian    transfer.mod allowed memory DoS for turbo-dcc.
Johnny-   Fabian    Minor correction to the list of used flags in flag.h.
Mnemonic
          guppy     Added language support to assoc.mod, console.mod and
                    notes.mod. Cosmetic fix to "module loaded" message.
          guppy     Removed some unneeded language macros.
          guppy     Cleaned up ctcp.mod. Reordered some of the ctcp_mode
                    checks.
          guppy     Added the [pass] argument in the .jump help reference.
Ben       Fabian    Added IPv6-masks support (bans/exempts/invites/ignores).
Abraham   Fabian    Fixed minor, newly introduced mess-up in `.chaninfo'
                    output.
Abraham/  Fabian    User defined flags weren't displayed correctly for
Kelvin              inactive channels, which the bot hadn't joined to yet.
Joker     Fabian    Fixed further places where +/-revengebot was not properly
                    integrated or documented.
          Fabian    Fixed eggdrop test-run for vpath. Using autoconf macros
                    for caching in aclocal.m4. Changed -L. to -L`pwd` for
                    libtcls < 7.4 support hack.
          Fabian    Added strftime compatibility function.
          Eule      Re-added bell character to note message. This can be
                    filtered out with the `.strip +g' command.
          Koach     We now send PASS before sending NICK or USER.
          guppy/    made share.mod unlink its temp userfile.
          Fabian
guppy     Fabian    Fixed a few format string bugs. Cleaned up style.
Wiktor    Fabian    Fixed crash when a received user file failed to load.
Wiktor    Fabian    compress module didn't indicate errors correctly.
          Fabian    Unified generic int types. Replaced my_?to?l() with
                    ?to?l(). Replaced obsolete macros. Various cleanups.
          Fabian    Made sure only <module>_start function symbols were
                    exported by modules. Fixed channels, console, dns, irc,
                    notes and transfer modules. Removed unneeded data in
                    non-debug mode from dns module compile.
          Eule      Fixed memory leak in channel key handling. Optimized use
                    of recheck_channel and recheck_channel_modes.
ridens    Fabian/   fixed `.whois'/`.match' crash for users without laston
          SuperS    data, caused by strftime changes.
          Fabian    finish_share() cleanups and optimizations.
          SuperS    Fixed configure problems on 64bit IRIX.
SuperS    Fabian    Removed connect_server() call in nuke_server() to avoid
                    uncontrolled recursion.
          Fabian    Cleaned up resolve_success and resolve_failure DNS hooks.
          Eule      Fixed various aspects of exempt handling.
toot      Sup       add_bot_hostmask now adds static hostmasks for bots.
          Fabian    Minor cleanups and optimizations in the irc module.
          Eule      Included +l and +k modes in modesperline-calculation.
                    Added `include-lk' setting to control this.
          SuperS    Fixed compatibility issues on IRIX. Added SINIX to
                    configure. Removed unneeded header std_args.h.
          FirebaII  Fixed filesys module to use NICKMAX instead of HANDLEN in
                    one place.
          Fabian    Minor fixups in filesys module.
          G`Quann   Removed lagcheck feature because it caused too many
                    problems.
Kool Cat  Fabian    Added meaningful error message for disabled tcl_dccsimul.
dirtymac  Fabian    Lowered retry timeout for failed DNS requests to 10
                    minutes.
          Eule      Fixed possible memleaks related to chan->channel.key,
                    chan->cmode[] and chan->key.
various   Fabian    Under certain circumstances, the old user file was
                    deleted and the new user file wasn't correctly created.
          blaster   Fixed crash in splitc().
          Tothwolf  Removed checks for bogus masks in +ban, +exempt, and
                    +invite. Minor error message fixes. Minor source cleanups.
          Cybah     Added splitcn() to limit how many bytes get copied to
                    first.
                    Shrunk buffer size in cmd_boot(), using the new function.
          Shaun     Fixed crash with handles larger than 19 characters.
